<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Period Tracker</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #fff0f5;
            text-align: center;
        }
        .container {
            width: 90%;
            max-width: 500px;
            margin: 40px auto;
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 0 10px rgba(255,105,180,0.3);
        }
        h2 { color: #ff3399; }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        th, td {
            padding: 10px;
            border-bottom: 1px solid #f0a;
        }
        .tip {
            background: #ffe6f2;
            border-left: 5px solid #ff66b2;
            padding: 10px;
            margin-top: 10px;
            border-radius: 10px;
            text-align: left;
            font-size: 0.95rem;
        }
        a, button {
            display: inline-block;
            background: #ff66b2;
            color: white;
            padding: 10px 15px;
            border-radius: 10px;
            text-decoration: none;
            margin-top: 10px;
        }
        a:hover, button:hover { background: #ff3385; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Welcome, {{ user.username }} ðŸŒ¸</h2>
        <a href="{% url 'add_period' %}">Add New Period</a>
        <a href="{% url 'logout' %}">Logout</a>

        {% if periods %}
            <h3>Your Period History</h3>
            <table>
                <tr><th>Start</th><th>End</th><th>Days</th></tr>
                {% for p in periods %}
                <tr>
                    <td>{{ p.start_date }}</td>
                    <td>{{ p.end_date }}</td>
                    <td>{{ p.duration }}</td>
                </tr>
                {% if p.tip %}
                <tr>
                    <td colspan="3" class="tip">{{ p.tip }}</td>
                </tr>
                {% endif %}
                {% endfor %}
            </table>
        {% else %}
            <p>No data yet. Add your first period below!</p>
        {% endif %}
    </div>
</body>
</html>
{% if tip %}
<div class="card" style="margin-top:20px; background:#fff0f5; border-radius:15px; padding:15px;">
    <h3 style="color:#ff4081;">ðŸŒ¸ Period Care Tip</h3>
    <p style="font-size:16px; color:#444;">{{ tip.text }}</p>
</div>
{% else %}
<div class="card" style="margin-top:20px; background:#fff0f5; border-radius:15px; padding:15px;">
    <h3 style="color:#ff4081;">ðŸŒ¸ Period Care Tip</h3>
    <p style="font-size:16px; color:#777;">No tips available yet. Add some from Admin!</p>
</div>
{% endif %}